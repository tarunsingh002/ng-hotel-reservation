"use strict";(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[631],{2631:(U,c,i)=>{i.r(c),i.d(c,{AuthModule:()=>w});var d=i(6895),u=i(2517),p=i(6498),t=i(6738),g=i(914),a=i(4719),m=i(9039);function h(n,r){1&n&&t._UZ(0,"app-loading-spinner",3)}function f(n,r){if(1&n&&(t.TgZ(0,"div",19),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function v(n,r){1&n&&(t.TgZ(0,"small"),t._uU(1,"Enter a valid email"),t.qZA())}function x(n,r){1&n&&(t.TgZ(0,"small"),t._uU(1,"Password must be atleast 6 characters"),t.qZA())}function A(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t.YNc(2,f,2,1,"div",6),t.TgZ(3,"form",7,8),t.NdJ("ngSubmit",function(){t.CHM(e);const s=t.MAs(4),l=t.oxw();return t.KtG(l.formSubmitted(s))}),t.TgZ(5,"div",9)(6,"label",10),t._uU(7,"Email"),t.qZA(),t._UZ(8,"input",11,12),t.YNc(10,v,2,0,"small",13),t.qZA(),t.TgZ(11,"div",9)(12,"label",14),t._uU(13,"Password"),t.qZA(),t._UZ(14,"input",15,16),t.YNc(16,x,2,0,"small",13),t.qZA(),t.TgZ(17,"div")(18,"button",17),t._uU(19),t.qZA(),t._uU(20," | "),t.TgZ(21,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSwitch())}),t._uU(22),t.qZA()()()()()}if(2&n){const e=t.MAs(4),o=t.MAs(9),s=t.MAs(15),l=t.oxw();t.xp6(2),t.Q6J("ngIf",l.errorMessage),t.xp6(8),t.Q6J("ngIf",o.invalid&&o.touched),t.xp6(6),t.Q6J("ngIf",s.invalid&&s.touched),t.xp6(2),t.Q6J("disabled",e.invalid),t.xp6(1),t.Oqu(l.signUpMode?"Sign Up":"Login"),t.xp6(3),t.Oqu(l.signUpMode?"Switch to Login":"Switch to Sign Up")}}let _=(()=>{class n{constructor(e,o){this.authS=e,this.router=o,this.signUpMode=!1,this.errorMessage=null,this.isLoading=!1}formSubmitted(e){this.isLoading=!0;let o=new p.y;o=this.signUpMode?this.authS.signUp(e.value.email,e.value.password):this.authS.signIn(e.value.email,e.value.password),o.subscribe(s=>{this.isLoading=!1,this.router.navigate(["hotels"])},s=>{this.isLoading=!1,this.errorMessage=s}),e.reset()}onSwitch(){this.signUpMode=!this.signUpMode}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(g.e),t.Y36(u.F0))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth"]],decls:3,vars:2,consts:[[1,"container","d-flex","flex-column","justify-content-center"],["class","d-flex justify-content-center w-100",4,"ngIf"],["class","row  d-flex justify-content-center w-100",4,"ngIf"],[1,"d-flex","justify-content-center","w-100"],[1,"row","d-flex","justify-content-center","w-100"],[1,"col-lg-4","col-md-6"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","name","email","ngModel","","id","email","required","","placeholder","Enter your email",1,"form-control"],["email","ngModel"],[4,"ngIf"],["for","password"],["type","password","name","password","ngModel","","id","password","required","","placeholder","Enter your password","minlength","6",1,"form-control"],["password","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-info",3,"click"],[1,"alert","alert-danger"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0),t.YNc(1,h,1,0,"app-loading-spinner",1),t.YNc(2,A,23,6,"div",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("ngIf",!s.isLoading))},dependencies:[d.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.On,a.F,m.g],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}small[_ngcontent-%COMP%]{color:red}.container[_ngcontent-%COMP%]{height:80vh}"]})}return n})();var M=i(4065);const Z=[{path:"",component:_}];let w=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[d.ez,a.u5,u.Bz.forChild(Z),M.m]})}return n})()}}]);