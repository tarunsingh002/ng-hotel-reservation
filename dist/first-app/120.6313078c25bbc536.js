"use strict";(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[120],{8120:(q,u,r)=>{r.r(u),r.d(u,{PaymentModule:()=>k});var m=r(6895),c=r(2517),p=r(6631),h=r(969),t=r(6738),C=r(8822),_=r(914),y=r(4471),f=r(7919),l=r(4719);function b(n,d){1&n&&(t.TgZ(0,"h3",3),t._uU(1,"Your Cart is empty"),t.qZA())}function v(n,d){1&n&&(t.TgZ(0,"small"),t._uU(1,"Address is a required field"),t.qZA())}function x(n,d){1&n&&(t.TgZ(0,"small"),t._uU(1,"Name On Card is a required field"),t.qZA())}function Z(n,d){1&n&&(t.TgZ(0,"small"),t._uU(1,"Card Number is a required field"),t.qZA())}function A(n,d){1&n&&(t.TgZ(0,"small"),t._uU(1,"Expiry Date is a required field"),t.qZA())}function T(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"h3",4),t._uU(2,"Checkout Page"),t.qZA(),t.TgZ(3,"div",5)(4,"div",6)(5,"h3",7),t._uU(6,"Your Booking:"),t.qZA(),t.TgZ(7,"ul",8)(8,"li",9),t._uU(9),t.qZA(),t.TgZ(10,"li",10),t._uU(11),t.qZA(),t.TgZ(12,"li",10),t._uU(13),t.qZA(),t.TgZ(14,"li",10),t._uU(15),t.qZA(),t.TgZ(16,"li",10),t._uU(17),t.qZA()(),t.TgZ(18,"h4",11),t._uU(19),t.ALo(20,"currency"),t.qZA()(),t.TgZ(21,"div",12)(22,"h3",7),t._uU(23,"Payment Details:"),t.qZA(),t.TgZ(24,"form",13,14),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.MAs(25),a=t.oxw();return t.KtG(a.onSubmit(i))}),t.TgZ(26,"div",15)(27,"label",16),t._uU(28,"Address"),t.qZA(),t.TgZ(29,"input",17,18),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a._address=i)}),t.qZA(),t.YNc(31,v,2,0,"small",2),t.qZA(),t.TgZ(32,"div",15)(33,"label",19),t._uU(34,"Name on Card"),t.qZA(),t.TgZ(35,"input",20,21),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a._nameOnCard=i)}),t.qZA(),t.YNc(37,x,2,0,"small",2),t.qZA(),t.TgZ(38,"div",15)(39,"label",22),t._uU(40,"Card Number"),t.qZA(),t.TgZ(41,"input",23,24),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a._cardNumber=i)}),t.qZA(),t.YNc(43,Z,2,0,"small",2),t.qZA(),t.TgZ(44,"div",15)(45,"label",25),t._uU(46,"Expiry Date"),t.qZA(),t.TgZ(47,"input",26,27),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a._expiryDate=i)}),t.qZA(),t.YNc(49,A,2,0,"small",2),t.qZA(),t.TgZ(50,"button",28),t._uU(51,"Pay"),t.qZA()()()()()}if(2&n){const e=t.MAs(25),o=t.MAs(30),i=t.MAs(36),a=t.MAs(42),g=t.MAs(48),s=t.oxw();t.xp6(9),t.hij(" ",s.displayCart.hotel.name," "),t.xp6(2),t.hij(" ","Location: "+s.displayCart.hotel.location," "),t.xp6(2),t.hij(" ","Number of Rooms: "+s.displayCart.roomsQuantity," "),t.xp6(2),t.hij(" ","From Date: "+s.displayCart.fromDate," "),t.xp6(2),t.hij(" ","To Date: "+s.displayCart.toDate," "),t.xp6(2),t.hij("","Total Amount: "+t.xi3(20,15,s.displayCart.totalAmount,"\u20a8")," "),t.xp6(10),t.Q6J("ngModel",s._address),t.xp6(2),t.Q6J("ngIf",o.invalid&&o.touched),t.xp6(4),t.Q6J("ngModel",s._nameOnCard),t.xp6(2),t.Q6J("ngIf",i.invalid&&i.touched),t.xp6(4),t.Q6J("ngModel",s._cardNumber),t.xp6(2),t.Q6J("ngIf",a.invalid&&a.touched),t.xp6(4),t.Q6J("ngModel",s._expiryDate),t.xp6(2),t.Q6J("ngIf",g.invalid&&g.touched),t.xp6(1),t.Q6J("disabled",e.invalid)}}const M=[{path:"",component:(()=>{class n{constructor(e,o,i,a,g){this.userS=e,this.aservice=o,this.router=i,this.l=a,this.cartservice=g,this._address="",this._nameOnCard="",this._cardNumber=0,this._expiryDate=""}ngOnInit(){this.bookingCartSub=this.cartservice.bookingCartChanged.subscribe(e=>{localStorage.getItem("bookingCart")||e?localStorage.getItem("bookingCart")&&!e?(this.bookingCart=JSON.parse(localStorage.getItem("bookingCart")),this.displayCart=this.cartservice.displayBookingCartGetter(this.bookingCart)):(!localStorage.getItem("bookingCart")&&e||localStorage.getItem("bookingCart")&&e)&&(this.bookingCart=e,this.displayCart=this.cartservice.displayBookingCartGetter(this.bookingCart)):(this.bookingCart=null,this.displayCart=null)}),this._address="200, Fictional Street, Gurugram",this._nameOnCard="Testy Tester",this._cardNumber=0x462d53c8abac0,this._expiryDate="11/27",this.userSub=this.aservice.User.subscribe(e=>{this.user=e})}ngOnDestroy(){this.userSub.unsubscribe(),this.bookingCartSub.unsubscribe()}onSubmit(e){this.l.isLoading.next(!0),this.userS.createBooking(this.bookingCart,this.user).subscribe(()=>{this.l.isLoading.next(!1),this.cartservice.bookingCartChanged.next(null),this.cartservice.bookingCart=null,localStorage.removeItem("bookingCart"),this.router.navigate(["miscellaneous/complete"])})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(C.K),t.Y36(_.e),t.Y36(c.F0),t.Y36(y.b),t.Y36(f.v))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-booking-payment"]],decls:3,vars:2,consts:[[1,"container"],["class","display-3 text-center",4,"ngIf"],[4,"ngIf"],[1,"display-3","text-center"],[1,"display-3","text-center","mb-4"],[1,"row","mb-4"],[1,"col-md-6"],[1,"text-center","mb-4","lead"],[1,"list-group"],[1,"list-group-item","text-center"],[1,"list-group-item"],[1,"text-center","my-3"],[1,"col-md-6","card"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","address"],["type","text","name","address","id","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],["for","nameOnCard"],["type","text","name","nameOnCard","id","nameOnCard","required","",1,"form-control",3,"ngModel","ngModelChange"],["nameOnCard","ngModel"],["for","cardNumber"],["type","number","name","cardNumber","id","cardNumber","required","",1,"form-control",3,"ngModel","ngModelChange"],["cardNumber","ngModel"],["for","expiry"],["type","text","name","expiry","id","expiry","required","",1,"form-control",3,"ngModel","ngModelChange"],["expiryDate","ngModel"],["type","submit",1,"btn","btn-primary","mb-3",3,"disabled"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,b,2,0,"h3",1),t.YNc(2,T,52,18,"div",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",!i.displayCart),t.xp6(1),t.Q6J("ngIf",i.displayCart))},dependencies:[m.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.On,l.F,m.H9],styles:["small[_ngcontent-%COMP%]{color:red}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}"]})}return n})(),resolve:[h.t],canActivate:[p.a]}];let k=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[m.ez,l.u5,c.Bz.forChild(M)]})}return n})()}}]);